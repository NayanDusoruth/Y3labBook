{"title":"Wk 4","markdown":{"headingText":"Wk 4","containsRefs":false,"markdown":"\n## 12/02/2026 lab log\n\nHave generated the following datasets over the past week:\n\n* 1000 equilibration steps, 500 simulation steps:\n\t* 20x20\n\t* 30x30\n\t* 40x40\n* 2000 equilibration steps, 500 simulation steps:\n\t* 20x20\n\t* 30x30\n\t* 40x40\n* 3000 equilibration steps, 500 simulation steps:\n\t* 20x20\n\t* 30x30\n\t* 40x40\n\t* 50x50\n\t* 100x100\nFurthermore, an additional 36 datapoints were added to the 3000 equilibration step datasets over a range $T \\in [2,3]$\n\n\ndouble check averaging; not weighted\nscaling effect on critical exponent is result of \"incorrect\" apparent critical temperature; critical temperature is size dependent, not the main exponent\n\n\n\nTo do list:\n* fix averaging\n* fix exponent fitting\n* figure out apparent vs true critical temp stuff\n\n\nAveraging seems to fix it\n\n\n2 methods to find \"true\" critical temperature (cite{labMaterials} finite-size-effects):\n* fit apparent critical temperatures for different sizes using $\\beta_{max} = \\beta_{c} - c\\cdot L^{\\frac{-1}{v}}$\n* Binder cumulant; $U_{l}=\\frac{1 - <s^{4}>}{3<s^{2}>^{2}}$; for $T_{c} < T$, $U_{l} = 0 + O(1/V)$, for $T_{c} > T$, $U_{l} = /frac{2}{3} + O(1/V)$; at criticallity, $U_{l}$ trends towards constant\n\t* can find critical point by comparing $U_{l}(\\beta)$ curves for different sizes; there should be an intersection point\n\nhave implemented cumulative computation; seems to work quite well, but will need to fit cumulative distribution to plot to be able to estimate data\n\n\n* fixed cumulative fit\n* however am encountering computational issues; as far as i can tell binder cumulant should range \n\n\nquick catchup w/Turci\n* make sure to double check magnetisation over range\n\nI am a complete idiot; it seems that when the code was discarding the configs for equilibration steps, it wasn't updating the most recent config.\nTherefore the massive datasets was effectively only the last 500 steps\n\nhave fixed issue and am starting to regenerate data; have attempted multithreading, but isn't quite working; so manually setting up parallel processing.\n\nAm currently trying to fix critical exponent fitting; as it stands cumulat seems to work reasonably well despite odd data range.\nFurthermore need to wait on data generation to work on that further.\n\nTherefore trying to fix critical exponent fitting.\n\nSuccessfully implemented multithreading at the dataset object; it generates configurations in parallel; so this should accelerate dataset generation by up to a factor of 16 (currently allocating 8 threads, so should be 8x faster)\n\nGeneral to do list:\n* generate data\n* fix exponent fitting\n* fully implement binder cumulate intersection function\n* compute critical exponents for dimension\n* generate prettier plots\n* generate \"final\" data \n* if time allows, compute critical exponents for mean field theory model (alternatively just cite values)\n* write report\n\n\n\n\n\n\n\n\n\n\nunrelated thoughts; vague report structure:\n* introduction\n\t* basic motivation\n\t* ising model theory\n\t\t* model statement\n\t\t* basic observables\n\t\t* existence of phase transition and critical exponents\n\t* metropolis algorithm theory\n\t* binder cumulant theory\n\t* critical exponent theory\n\t* mean field theory - note minimum derivations (if time allows)\n* methods\n\t* briefly outline \"lab process\" not code architecture, but type of data generated by what methods\n* results\n\t* include plot of apparent critical temperatures over size; use to illustrate \"apparent vs true\" critical temperature\n\t* include graph of cumulant fit intersections (demonstrate finding critical temperature)\n\t* include graph of magnetisations for different dimensions in same plot\n\t* include table of exponent values for D=1,2,3, ?4?, mean field theory\n* discussion\n\t* TBD, depends on results, but could discuss:\n\t\t* convergence of critical exponents to mean field theory values (how quickly...)\n\t\t* slow convergence near critical temperature\n\t\t* apparent vs true critical temperature\n\t\t* computational considerations\n* conclusion\n\nwill need citations for following (try and get different ones for each):\n* statement of ising model\n* computation for basic observables\n* phase transition and critical exponents\n\n* binder cumulant theory\n* mean field theory derivation OR results\n* literature values for critical exponents\n\n* metropolis MC algorithm\n\n* probably general textbook (complexityAndCriticality may be good)\n\n\n\n## 14/02/2026\nAm regenerating the broken data from the past week\n\n* 1000 equilibration steps, 500 simulation steps:\n\t* 20x20\n* 2000 equilibration steps, 500 simulation steps:\n\t* 20x20\n* 3000 equilibration steps, 500 simulation steps:\n\t* 20x20\n\t* 30x30\n\t* 40x40\n\t* 50x50\n\t* 100x100\n\n* 3000 equilibration steps, 500 simulation steps additional:\n\t* 60x60\n\t* 70x70\n\t* 80x80\n\t* 90x90\n\nFurthermore, an additional 36 datapoints were added to the 3000 equilibration step datasets over a range $T \\in [2,3]$.\n\nHave just finished the 20x20 3000 steps dataset, and its A LOT cleaner than previously\n\n![Fig 4.1 - Absolute magnetisation $M(T)$ for 20x20, 3000Eq steps](figures/20x20Mag.png){fig-align=\"left\"}\n\n![Fig 4.2 - Energy $E(T)$ for 20x20, 3000Eq steps](figures/20x20Energy.png){fig-align=\"left\"}\n\n![Fig 4.3 - Entropy $S(T)$ for 20x20, 3000Eq steps](figures/20x20Entropy.png){fig-align=\"left\"}\n\n![Fig 4.4 - Free energy $F(T)$ for 20x20, 3000Eq steps](figures/20x20FreeEnergy.png){fig-align=\"left\"}\n\n![Fig 4.5 - Susceptibility $\\chi(T)$ for 20x20, 3000Eq steps](figures/20x20Suscept.png){fig-align=\"left\"}\n\n![Fig 4.6 - Heat capacity $C(T)$ for 20x20, 3000Eq steps](figures/20x20HeatCap.png){fig-align=\"left\"}\n\n![Fig 4.7 - Cumulant for 20x20, 3000Eq steps](figures/20x20Cumulant.png){fig-align=\"left\"}\n\n\nFurthermore the cumulant fit seems to be working quite well, so should be able to compute the actual critical temperature by that method once enough data has been generated.\nIt may also be worth using the power law fit from the apparent critical temperatures as a second \"cross validation\" method as well.\n\nOnce both critical temperature methods are implemented, it will be possible to fit the critical functions to the data, and extract the critical exponents.\n\nOnce that is working, the \"analytical machinery\" for this project should be complete, and all that will need to be done is to generate appropriate data for $d=3$ and possibly $d=4$; and begin thinking about writing the report.\n\n\n\n\n\n\n## 15/02/2026\n\nminor tweaking; have added system s.t the dataset orders its data in ascending temperature order; makes handling data easier.\n\nnote to self, potentially add method to quickly regenerate data (I.E, to replace clear outliers)\n\nHave managed to normalise cumulant and implement a cumulant critical temperature method; quick plotting yields:\n\n![Fig 4.8 - Cumulant fits for $s\\in[20, 30, 40, 50]$](figures/cumulantIntersection.png){fig-align=\"left\"}\n\nNote that the plot yields 2 intersection clusters, however the higher temperature cluster better agrees with the data, so was accepted as the true values. As such Fig. 4.8 yields $T_{c} = 2.16 \\pm 0.02 ยบ/k_{b}$; which seems reasonable examining all the plots. (however doesn't agree with standard values of $T_{c}=2.269$ cite{labMaterials})\n\nHave quickly implemented a \"set critical temperature\" functionality to dataset objects; that way the cumulant critical temperature can be assigned to all datasets being evaluated.\n\nThe magnetisation fit still doesn't work though.\n\nIt seems that fitting power laws is something scipy's curvefit is ill equipped to do.\nTHus far efforts to fit magnetisation has been fruitless. Going to attempt susceptibility instead; the hope is that since susceptibility is fit for $T_{c} < T$ instead, that it may provide insight to wether or not the fitting issues is an artefact of the $T<T_{c}$ data.\n\nIt doesn't seem to work.\nThere's a library \"powerlaw\" that may be of use, however i'm unsure how to use it.\nI think solving this may be a tmr problem.\n\nattempted to simply compute an initial estimate of the exponent; given $M=t^{\\beta}$ it follows that $lnM = \\beta lnt$ so $\\beta = \\frac{lnM}{lnt}$. THis wasn't expected to produce correct results, however was hoped would provide an initial guess for curvefit to work. It unfortunately doesn't\n\n\n## 16/02/2026\nam experimenting with scipy curvefit on some idealised power law data; it seems to work in this idealised case\n\nAfter some debugging, it seems the power law fit was working, but was significantly \"tech indebted\" so wasn't working due to messy code.\n\nOn the 50x50 dataset, fitting $M = b \\cdot (\\frac{T-T_{c}}{T_{c}})^{\\beta}$ yields the following plot:\n\n![Fig 4.8 - Initial magnetisation exponent fit attempt on 50x50 dataset](figures/magExponentFit.png){fig-align=\"left\"}\n\nWhich yielded $b= 1.022 \\pm 0.006$ and $\\beta= 0.038 \\pm 0.002$. Given that the standard value for $\\beta=\\frac{1}{8}$ cite{labMaterials}, it seems the measured value is off by a factor of $~3$.\n\nTesting the other datasets yields:\n\n* 20x20: $\\beta= 0.041 \\pm 0.002$\n* 30x30: $\\beta= 0.037 \\pm 0.002$\n* 40x40: $\\beta= 0.038 \\pm 0.002$\n* 50x50: $\\beta= 0.038 \\pm 0.002$\n\nWhich is odd; all of these results are in significant agreement with each other, but not with standard values.\nIt was established the 15/02/2026 that the cumulant derived $T_{c}$ is reasonable upon first inspection, but doesn't agree with standard values. Setting the critical temperature to standard value of $T_{c}=2.269$ cite{labMaterials} instead yields:\n\n* 20x20: $\\beta= 0.66 \\pm 0.004$\n* 30x30: $\\beta= 0.072 \\pm 0.004$\n* 40x40: $\\beta= 0.068 \\pm 0.003$\n* 50x50: $\\beta= 0.073 \\pm 0.003$\n\nWhich is an improvement, but doesn't yet agree with standard values.\nFurthermore whilst these values generally agree with one another, it is important to note how small the uncertainties are. Part of this is likely due to the fact that currently the use of scipy.curvefit doesn't include the errors in the data. This is due to there still being fitting issues when trying to incorporate the error values, but does obfuscate errors in these \"final\" exponent values. Particularly errors increase approaching criticality, so these may being hiding significantly larger errors that would bring.\n\nHowever given these results, its worth considering the following:\n* Critical temperature computation - it seems to be an underestimate; why?\n\t* it may be worth crossvalidating the cumulant method against the power law method\n* how to incorporate errors into the curvefit\n* the criticality power law applies close to criticality; it may be worth curtailing the data; for instance quickly curtailing the first 6 temperatures yields:\n\t* 20x20: $\\beta=  0.073 \\pm 0.006$\n\t* 30x30: $\\beta=  0.081\\pm 0.005$\n\t* 40x40: $\\beta=  0.079\\pm 0.003$\n\t* 50x50: $\\beta=  0.081\\pm 0.003$\n\t* this curtailement wasn't particularly rigorous, but did improve results (albeit not to within agreement of standard values)\n\nAs such, if the source of critical temperature underestimation can be found, the primary \"unaccounted error\" would stem from the unincorporated errors in the fit, as well as the \"curtailement effect\". It is unknown however if addressing these would bring the values into agreement with standard values.\n\n\nIt seems that the curvefit issues with errors was due to error$=0$ values; curtailing the 0 errors allows for it to fit (I.E, 50x50 yields $\\beta=  0.034\\pm 0.005$ for $T_{c}=2.269$) which is visually a worse fit than prior attempts (and is further from the standard value). Therefore i suspect it may be better to use curvefit without including the errors.\n\nOn a whim, the critical temperature was set to $T_{c}= 2.4$ (an incorrect but larger value); which yielded $\\beta=  0.22\\pm 0.02$ (50x50 dataset). This is obviously an incorrect result, but it does seem to be the primary \"lever\" affecting the exponent value.\nSimilarly curtailing the first 6 temperatures, and setting $T_{c}=2.33$ yields $\\beta=  0.132\\pm 0.006$ (50x50 daaset) which is closer to agreeing with standard values. again, these aren't physically insightful results; but it gives a better idea of the relation between critical temperature and critical exponents.\n\n\n\nTo do list:\n* potentially implement other exponent fits; see if they:\n\t* have similar issues\n\t* if the scaling relations hold\n* reexamine cumulant critical temp method - maybe examine wether there are issues with cumulant fit that may be causing issues\n\t* currently i fit it to a logistic function; i'm wondering if a local power law fit may be more appropriate\n\t* potentially implement power law method for critical temperature\n* figure out how best to curtail data when fitting\n* try and ID final remaining disagreement between measured and standard values\n\n\n\n## 18/02/2026\nNote to self; multithreading is weird; despite interrupting the code, the threads are still running (and have done for several days); they've been generating data in the background without me noticing for several days now...\n\n\nquickly implemented other exponent fitting methods for susceptibility and heat capacity.\ndoing quick non rigorous tests on the 50x50 dataset yield $\\beta=0.072$, $\\gamma=0.32$, $\\alpha=0.55$ compared to standard values of $\\beta=0.125$, $\\gamma=1.75$, $\\alpha=0$. Something is going wrong here, however the fit seems to be working...\nSidenote, the scaling relation $\\alpha + 2\\beta + \\gamma = 2$ doesn't work, instead yielding $\\alpha + 2\\beta + \\gamma = 1$\nFirst port of call will be to rigorously check these values for different critical temperatures (50x50 dataset):\n* standard value of 2.269\n\t* $beta = 0.073 \\pm 0.003$\n\t* $\\gamma = 0.32 \\pm 0.07$\n\t* $\\alpha = 0.55 \\pm 0.03$\n\t* $\\alpha + 2\\beta + \\gamma = 1.016$\n* cumulant derived value of 2.15\n\t* $beta = 0.040 \\pm 0.002$\n\t* $\\gamma = 0.2 \\pm 0.1$\n\t* $\\alpha = 0.34 \\pm 0.05$\n\t* $\\alpha + 2\\beta + \\gamma = 0.62$\n* apparent critical temperature of 2.43 for a dataset (maximum susceptibility value) \n\t* $beta = 0.26 \\pm 0.03$\n\t* $\\gamma = 0.46 \\pm 0.05$\n\t* $\\alpha = 0.0 \\pm 0.7$\n\t* $\\alpha + 2\\beta + \\gamma = 0.98$\nThese values all disagree significantly with the standard values...\nWhat is striking is the heat capacity exponent $\\alpha$ being so large in most cases (and the apparent temperature case is only 0 because it fails to appropriately fit the data).\n\n\ntask list for tmr:\n* standardise curtailement in exponent method (have it as optional DT parameter)\n* implement other critical exponent methods\n\t* this includes slightly reworking graphing method to accomodate this\n* evaluate critical exponents relative to each other (scaling laws)\n\t* ask Dr Turci if he knows why i may be getting these underestimates\n* reevaluate cumulant critical temp method\n* potentially write up power law critical temp method; compare critical temps","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"toc":true,"output-file":"4_1_labLog.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.27","theme":["cosmo","brand"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}